# Frontend

이 프로젝트는 고객 관계 관리(CRM) 대시보드의 프론트엔드 파트입니다.

## 1. 기술 스택 및 선택 이유

- **React & TypeScript**: 컴포넌트 기반 아키텍처와 정적 타이핑을 통해 생산성과 유지보수성을 높였습니다.
- **Vite & Vitest**: 빠르고 효율적인 개발 및 테스트 환경을 구축했습니다.
- **TanStack Query**: 서버 상태 관리를 단순화하고 캐싱, 동기화, 데이터 fetching 로직을 효율적으로 처리하기 위해 도입했습니다.
- **Axios**: 안정적인 HTTP 통신을 위해 사용했습니다.
- **Emotion**: CSS-in-JS 라이브러리로, 컴포넌트 단위의 스타일링을 적용하여 재사용성과 모듈성을 극대화했습니다.

## 2. 프로젝트 구조

```
/src
├───api/            # 공통 API 클라이언트 (Axios 인스턴스)
├───components/     # 여러 페이지에서 재사용되는 공통 컴포넌트
├───hooks/          # 공통 커스텀 훅
├───pages/          # 페이지 단위 컴포넌트
│   └───dashboard/  # 대시보드 페이지
│       ├───apis/       # 대시보드 페이지 전용 API 함수
│       ├───components/ # 대시보드 페이지 전용 컴포넌트
│       └───hooks/      # 대시보드 페이지 전용 커스텀 훅
└───...
```

- **페이지 기반 코로케이션**: 프로젝트는 페이지 중심의 코로케이션(co-location) 구조를 따릅니다. 각 페이지(`src/pages/*`)는 자신만의 `apis`, `components`, `hooks`를 가집니다.
- **공통 모듈**: 여러 곳에서 사용되는 범용 모듈(컴포넌트, 훅 등)은 `src` 폴더 직속에 배치하여 관리합니다.

## 3. 구현 기능

### 고객 대시보드

- **가격대별 구매 빈도**: 설정된 기간 동안의 가격대별 구매 빈도 데이터를 테이블 형태로 시각화합니다.
- **고객 목록 및 상세 정보**:
  - **필터링 및 검색**: 기간(날짜 범위) 필터링과 고객 이름 검색 기능을 제공합니다.
  - **정렬**: 총 구매액을 기준으로 오름차순/내림차순 정렬이 가능합니다.
  - **페이지네이션**: 고객 목록을 페이지 단위로 탐색할 수 있습니다.
  - **상세 구매 내역**: 고객 목록의 특정 행을 클릭하면 해당 고객의 상세 구매 아이템 목록을 모달 창에서 확인할 수 있습니다.

## 4. 개선하고 싶은 부분

- **로딩 및 에러 처리**: 현재 `useQuery`의 `data`만 주로 사용하고 있어, `isLoading`, `isError` 상태에 따른 로딩 스피너, 스켈레톤 UI, 에러 메시지 표시 등 사용자 경험(UX)을 향상시킬 수 있는 부분이 미흡합니다. `Suspense`나 `ErrorBoundary`를 `TanStack Query`와 함께 활용하여 이를 개선할 수 있습니다.
- **TanStack Query 캐싱 전략**: 현재 `staleTime`과 `gcTime`(cacheTime)이 기본값으로 설정되어 있습니다. 데이터의 특성을 고려하여 `staleTime`을 적절히 설정하면 불필요한 API 요청을 줄여 성능을 최적화할 수 있습니다.
- **TanStack Query `queryKey` 관리**: 현재 쿼리 키가 각 컴포넌트와 훅 내에서 직접 문자열 배열로 작성되고 있어 오타나 불일치가 발생할 위험이 있습니다. 쿼리 키 팩토리(Query Key Factory) 패턴을 도입하여 쿼리 키를 중앙에서 체계적으로 생성하고 관리하면 코드의 안정성과 재사용성을 높일 수 있습니다.
